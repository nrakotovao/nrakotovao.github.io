<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="icon" type="image/x-icon" href="../images/favicon.ico" /><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="keywords" content=""><meta name="description" content=""><meta http-equiv='cache-control' content='no-cache'> <meta http-equiv='expires' content='0'> <meta http-equiv='pragma' content='no-cache'><title>NAOTY</title><link rel="stylesheet" href="css/bootstrap.min.css"><link rel="stylesheet" href="css/style.css"><link rel="stylesheet" href="css/font-awesome.min.css"></head><body id="top" data-spy="scroll" data-target=".navbar-collapse"><nav class="navbar navbar-default navbar-fixed-top navbar-expand-lg" role="navigation"><div class="navbar-header"><button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon icon-bar"></span><span class="icon icon-bar"></span><span class="icon icon-bar"></span></button><a href="index.html" class="navbar-brand" style="color:#000;">&nbsp;&nbsp;<i class="fa fa-caret-right" style="font-size:24px"></i>&nbsp;NAOTY</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right" id="menu-bar"></ul></div></nav><div id="main-contenu"></div>

    
<!-- ANDROID -->
<section id="godot" class="section text-center">
    <div style="padding-top:60px"></div>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2 class="mkj-big-title">Android Godot</h2>
                <div style="margin-top:-24px"><img src="images/caret_up.png" width="20px"/> <a href="godot.html">GODOT</a></div>
            </div>
        </div>
    </div>
</section>


<section id="resume" class="section  text-center">
    <div class="container">
        <div class="row">
            <div class="col-sm-4 text-left">
                <div class="mkj-menu"><a href="#param" class="smoothScroll">Famaritana</a></div>
            </div>
            <div class="col-sm-4 text-left">
                <div class="mkj-menu"><a href="#export" class="smoothScroll">Famoahana</a></div>
            </div>
            <div class="col-sm-4 text-left">
                <div class="mkj-menu"><a href="#release" class="smoothScroll">Fanapariahana</a></div>
            </div>
        </div>
    </div>
    <div id="param">&nbsp;</div>
</section>


<!-- CONFIGURATION -->
<section class="section  text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-left">
                <h3 class="mkj-title">Famaritana tetikasa (config)</h3>
                <p>
                    Ireto ny  famaritana tokony hapetraka raha praograma vokatra ho an'ny android:
                    <pre>
<c># Firafitry ny ekrà:</c>
Project > Project Settings
    > Display > Window
        <c># Alefa ny Advanced settings</c>
        Size > Viewport Width: 480
        Size > Viewport Height: 900
        Size > Mode: Windowed 
        Stretch > Mode: viewport     <c># ilaina @ resaka responsive</c>
        Stretch > Aspect:Expand       <c># manenjika ny saka sy haavon'ny ekra</c>

<c># Ampisehoina ny lohateny eny ambony (daty, aratra, sns)</c>
Project > Project Settings > Display > Window
    Size > Mode: windowed
    Size > Borderless: off
    <c>Ampiana an'ito aorian'ny _ready() an'ny scene principale:</c>
    DisplayServer.window_set_mode(DisplayServer.WINDOW_MODE_WINDOWED)
    DisplayServer.window_set_flag(DisplayServer.WINDOW_FLAG_EXTEND_TO_TITLE, false)
    DisplayServer.window_set_flag(DisplayServer.WINDOW_FLAG_BORDERLESS, false)
</pre>
                </p>
                <br>
                <p>
                    Fampandehanana ny scroll android:
                    <pre>
<c># Esorina ny émulation ao @ famaritana ny tetikasa:</c>
<c># Ny tanjona eto dia ny manavaka ny soria sy ny touch screen</c>
Project settings > Input devices > Pointing
    Emulate touch from mouse: off
    Emulate mouse from touch: on
    Enable pan and scale gestures: on

<c>Avahina ny clic sy scroll</c>
@onready var _touch_position_y: int = 0
...
list_item.gui_input.connect(func(event): _handle_item_event(event, item.id))
...
func _handle_item_event(event, item_id):
    if event is InputEventScreenTouch:
        if event.pressed:
            _touch_position_y = int(event.position.y)
        if !event.pressed:
            if _touch_position_y == int(event.position.y):
                <c>#traiter le clic</c>
                    </pre>
                </p>
            </div>
        </div>
    </div>
    <div id="export">&nbsp;</div>
</section>



<!-- EXPORT ANDROID -->
<section class="section  text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-left">
                <h3 class="mkj-title">Famoahana tetikasa (export)</h3>
                <p>
                    Ireto ny dingana arahina raha handefa ny vokatry ny tetikasa mankany @ Android (Mac ny ampiasaina eto):
                    <ol style="margin-top:-16px">
                        <li>Omena ny modèle d'export Android (@ voalohany ihany)</li>
                        <li>Faritana ny fepetra famoahana tetikasa (@ voalohany ihany)</li>
                        <li>Avoaka ny APK an'ilay tetikasa</li>
                    </ol>
                </p>

                <br>
                <b>Omena ny modèle d'export Android</b>
                <ol>
                    <li>Omanina ny fisie modele d'export. <a href="https://1drv.ms/u/c/30aaffec3a3da961/EXVEd0AnLhlMtMd29HhgNEoBnc1pV-_ap-pkFJ43kBnySQ?e=qyapou"
                            target="_blank">Avy ato</a> ho an'ny Godot 4.4.1.</li>
                    <li>Mankao @ menoa <b>Project > Export > Add > Android > Manage export template > Install from file</b></li>
                    <li>Safidiana ilay fisie *.tpz > Open > Close</li>
                </ol>

                <br>
                <b>Faritana ny fepetra famoahana tetikasa</b>
                <ol>
                    <li>Mankao @ menoa <b>Editor > Editor settings > Export > Android</b></li>
                    <li>Efa fenoiny ary tsy mila kitihina ny <b>Debug keystore</b> sy ny <b>Debug keystore pass</b> @ izao voalohany izao aloha</li>
                    <li>
                        Omena ny toerana misy ny <b>SDK JAVA</b>.
                        <br>Ohatra: C:/jdk-24.0.2 ho an'ny Windows.
                        <br>Na <b>/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home</b> ho an'ny Mac
                    </li>
                    <li>
                        Omena ny toerana misy ny <b>SDK Android</b>.
                        <br>Ohatra hoe: C:/AndroidSdk ho an'i Windows
                        <br>Na hoe <b>/Users/unuser/Library/Android/sdk</b>.
                        <br>Raha mbola tsy manana SDK Android dia ny fampidirana ny praograma <a href="https://developer.android.com/studio" target="_blank">Android Studio</a> no tsotra indrindra hahazahoana azy.
                    </li>
                </ol>

                <br>
                <b>Mamoaka ny APK vokatr'ilay tetikasa</b>
                <ol>
                    <li>Mankao @ menoa <b>Project > Export > Android</b></li>
                    <li>Ovaina ny version sy nom: Version > Code=1, Name=App v1</li>
                    <li>Klikena ny Export project... > Save</li>
                    <li>Omena ny toeran'ny vata hasiana ilay rakitra APK, dia kitihina ny <b>Enregistrer</b></li>
                </ol>

                <br>
                <b><u>Mampiasa finday Android @ famokarana</u></b>
                <ol>
                    <li>Alefa ny <b>Developer options</b> ao @ finday</li>
                    <li>Alefa ny <b>USB debugging</b> ao @ io option io</li>
                    <li>Atsatoka @ ordinatera @ alalan'ny USB ny finday. Tokony hitan'ny ordinatera ilay izy.</li>
                    <li>Ao @ Godot: safidy Déboggage > Déployer avec débogage distant</li>
                    <li></li>
                    <li>Misy safidy: Déboggage > Déploiment minime avec système de fichier, afaka manova eo noho eo
                        ny scene tsy mila mamerina mandefa ilay app.
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <div id="release">&nbsp;</div>
</section>


<!-- RELEASE -->
<section class="section  text-center">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-left">
                <h3 class="mkj-title">Fanapariahana tetikasa (release)</h3>
                <p>
                    Fomba famoahana app android (release mode)
                    <pre>
<c># Mampiditra export templates:</c>
Efa misy fomba fanaovana an'izay ao ambony ao

<c># Asiana configuration export:</c>
1. Project > Export...
2. Manamboatra Android export preset (raha mbola tsisy)
3. Ampidirina ireto options ireto:
   Version > Code: 1 (par défaut)
   Version > Name: NOMAPP
   Package > Unique name: com.company.nomapp
   Package > Name: NOMAPP
   Package > App category: productivity

<c># Manamboatra keystore:</c>
1. Manokatra console
2. $ keytool -genkey -v -keystore my-release-key.keystore -alias myalias -keyalg RSA -keysize 2048 -validity 10000
3. Valiana izay info tadiaviny ao

<c># Ampiasaina @ projet ilay keystore</c>
1. Project > Export...
2. Keystore > Release: safidiana ilay fichier .keystore
   Keystore > Release user: omena ilay user nampidirina t@ nanao ilay keystore
   Keystore > Release password: omena ilay password nampidirina t@ nanao ilay keystore

<c># Mamoaka ilay APK</c>
1. Project > Export...
2. Safidiana ilay Android preset
3. Potserina ny bokotra Export project...
4. Soloina hifanaraka @ ilay version ilay anaran'ny APK hahamora ny suivi (tsy voatery)
5. Export with debug: off

<b>NAOTY</b>: raha misy error password
1. Manokatra console dia alefa ity kaomandy ity:
   $ keytool -list -v -keystore my-release-key.keystore
2. Angatahiny ny tenimiafina. Raha marina ny omena dia misokatra ny momba ilay keystore.
3. Jerena ny hoe: alias, izay alias apetrany eo no atao user name (oh: myalias)

<b>NAOTY</b>: raha tsy mety installer-na ilay APK
- Désinstaller-na ilay version debug alohan'ny hi-installer-na ilay release
- Installer-na amin'ny alalan'i ADB mba ahitàna ilay error
  $ adb install -r MyApp-release.apk
- Raha ohatra ka misy app mila désinstaller-na ao
  $ adb uninstall com.yourcompany.yourapp
</pre>
                </p>
                <br>
                <p>
                    Fampandehanana ny scroll android:
                    <pre>
<c># Esorina ny émulation ao @ famaritana ny tetikasa:</c>
<c># Ny tanjona eto dia ny manavaka ny soria sy ny touch screen</c>
Project settings > Input devices > Pointing
    Emulate touch from mouse: off
    Emulate mouse from touch: on
    Enable pan and scale gestures: on

<c>Avahina ny clic sy scroll</c>
@onready var _touch_position_y: int = 0
...
list_item.gui_input.connect(func(event): _handle_item_event(event, item.id))
...
func _handle_item_event(event, item_id):
    if event is InputEventScreenTouch:
        if event.pressed:
            _touch_position_y = int(event.position.y)
        if !event.pressed:
            if _touch_position_y == int(event.position.y):
                <c>#traiter le clic</c>
                    </pre>
                </p>
            </div>
        </div>
    </div>
    <div style="padding-bottom:40px"></div>
</section>



</div><footer class="text-center" style="background-color: transparent; border:none; padding-top: 8px;"><div class="container" style="background-color:#FFF; color:#555252; font-size:14px;"><div class="row" id="piedpage"><p>© Njaka RAKOTOVAO - 2024</p></div></div></footer><a href="#top" class="go-top"><i class="fa fa-chevron-up fa-1x"></i></a><script src="js/jquery.js"></script><script src="js/bootstrap.min.js"></script><script src="js/smoothscroll.js"></script><script src="js/jquery.flexslider.js"></script><script>$(document).ready(function () { document.querySelector('#piedpage').innerText = '(c) Njaka RAKOTOVAO - ' + (new Date()).getFullYear();$('.flexslider').flexslider({animation: "fade",directionNav: false});$(window).scroll(function () {if ($(this).scrollTop() > 200) {$('.go-top').fadeIn(200);} else {$('.go-top').fadeOut(200);}});$('.go-top').click(function (event) {event.preventDefault();$('html, body').animate({ scrollTop: 0 }, 300);})});</script></body></html>